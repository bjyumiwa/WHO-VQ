<!DOCTYPE html>
<html lang="ja" data-lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
  <title>WHO VQ</title>
  <meta name="description" content="WHO VQ — 海辺で価値(価値=Value)を見つける小さなゲーム" />
  <style>
    :root{
      --glass: rgba(255,255,255,.92);
      --shade: rgba(0,0,0,.55);
    }
    html,body{
      margin:0;height:100%;overflow:hidden;background:#000;color:#fff;
      font-family: ui-sans-serif, system-ui, -apple-system, "Noto Sans JP", Segoe UI, Roboto, sans-serif;
    }
    /* 背景 */
    .bg{
      position:fixed; inset:0; z-index:0;
      background-image:url("./public/bg/sunrise.jpg");
      background-repeat:no-repeat; background-size:cover;
      background-position:center 38%; /* PCは少し上寄せで太陽を見せる */
      transition:opacity .6s ease;
    }
    @media (max-width: 768px){
      .bg{ background-position:center 50%; } /* モバイルは中央 */
    }
    /* 上のグラデで読みやすく */
    .veil{
      position:fixed; inset:0; z-index:1;
      background: radial-gradient(1200px 600px at 50% 15%, rgba(0,0,0,.15), rgba(0,0,0,.35) 60%, rgba(0,0,0,.55));
    }

    /* Topbar */
    #topbar{
      position:fixed; left:0; right:0; top:0; z-index:5;
      display:flex; justify-content:space-between; align-items:center;
      padding:10px; gap:10px;
      background:linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,0));
    }
    #topbar .left, #topbar .right{ display:flex; gap:8px; align-items:center; }
    .btn{
      border:none; border-radius:12px; padding:8px 14px; cursor:pointer;
      font-weight:700; background:var(--glass); color:#111;
      box-shadow:0 2px 10px rgba(0,0,0,.12);
    }

    /* Hero */
    #hero{
      position:fixed; inset:0; z-index:4;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:22px; text-align:center; padding:20px;
    }
    #title{
      margin:0; line-height:1.15;
      font-size: clamp(24px, 6vw, 44px);
      text-shadow:0 2px 10px rgba(0,0,0,.45);
    }
    .subtitle{
      opacity:.95; font-size: clamp(13px, 2.8vw, 16px);
      text-shadow:0 1px 6px rgba(0,0,0,.35);
    }
    .heroBtns{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
    .cta{
      padding:12px 18px; border-radius:14px; font-weight:800;
      background:#fff; color:#111; border:none; cursor:pointer;
      box-shadow:0 6px 20px rgba(0,0,0,.18);
    }
    .ghost{
      padding:12px 18px; border-radius:14px; font-weight:800;
      background:rgba(255,255,255,.15); color:#fff; border:1px solid rgba(255,255,255,.6);
      backdrop-filter: blur(2px); cursor:pointer;
    }
    .ghost[disabled]{ opacity:.5; cursor:not-allowed; }

    /* トースト */
    #toast{
      position:fixed; right:10px; top:48px; z-index:6;
      background:var(--glass); color:#111; padding:8px 12px;
      border-radius:12px; min-width:180px; font-size:14px;
      box-shadow:0 2px 10px rgba(0,0,0,.16);
    }

    /* フッター コピーなど（任意） */
    footer{
      position:fixed; left:0; right:0; bottom:6px; z-index:3;
      text-align:center; font-size:12px; opacity:.75;
      text-shadow:0 1px 6px rgba(0,0,0,.5);
    }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="veil" aria-hidden="true"></div>

  <!-- Topbar -->
  <div id="topbar">
    <div class="left">
      <button id="btnAbout" class="btn">研究について</button>
    </div>
    <div class="right">
      <button id="btnLang" class="btn" title="言語を切り替え">EN</button>
    </div>
  </div>

  <!-- Hero -->
  <main id="hero" role="main" aria-labelledby="title">
    <h1 id="title">朝日の海へようこそ</h1>
    <p class="subtitle" id="subtitle">海辺で小さな“価値”を見つける、静かな体験。</p>
    <div class="heroBtns">
      <button id="btnStart" class="cta">スタート</button>
      <button id="btnContinue" class="ghost">続きから</button>
    </div>
  </main>

  <!-- Toast -->
  <div id="toast">朝日がきれいだね</div>

  <footer>© WHO VQ</footer>

  <script>
  /* ===== 多言語 ===== */
  const I18N = {
    ja:{about:'研究について', langNext:'EN', title:'朝日の海へようこそ',
        sub:'海辺で小さな“価値”を見つける、静かな体験。', start:'スタート', cont:'続きから', toast:'朝日がきれいだね'},
    en:{about:'About', langNext:'中文', title:'Welcome to the Sunrise Shore',
        sub:'A quiet experience of finding little “values” by the sea.', start:'Start', cont:'Continue', toast:'Beautiful sunrise'},
    zh:{about:'关于', langNext:'한국어', title:'欢迎来到朝阳海岸',
        sub:'在海边寻找细小的「价值」。', start:'开始', cont:'继续', toast:'美丽的朝阳'},
    ko:{about:'연구 소개', langNext:'日本語', title:'아침 해변에 오신 것을 환영합니다',
        sub:'바닷가에서 작은 “가치”를 찾는 고요한 경험.', start:'시작', cont:'계속', toast:'아름다운 아침 해'}
  };
  const LANG_ORDER = ['ja','en','zh','ko'];
  const LANG_LABEL  = {ja:'日本語', en:'EN', zh:'中文', ko:'한국어'};
  const getLang = () => localStorage.getItem('who_vq.lang') || 'ja';

  function setLang(lang){
    const L = I18N[lang] || I18N.ja;
    document.documentElement.setAttribute('lang',lang);
    localStorage.setItem('who_vq.lang', lang);
    // 文言
    document.getElementById('btnAbout').textContent = L.about;
    document.getElementById('title').textContent     = L.title;
    document.getElementById('subtitle').textContent  = L.sub;
    document.getElementById('btnStart').textContent  = L.start;
    document.getElementById('btnContinue').textContent = L.cont;
    // 次に切替える言語をボタンに表示
    const idx = LANG_ORDER.indexOf(lang);
    const next= LANG_ORDER[(idx+1)%LANG_ORDER.length];
    const btnLang = document.getElementById('btnLang');
    btnLang.textContent = LANG_LABEL[next];
    btnLang.title = `言語を${LANG_LABEL[next]}に切り替え`;
    // トースト
    document.getElementById('toast').textContent = L.toast;
  }
  function toggleLang(){
    const cur = getLang();
    const idx = LANG_ORDER.indexOf(cur);
    const next= LANG_ORDER[(idx+1)%LANG_ORDER.length];
    setLang(next);
  }

  /* ===== 画面遷移 ===== */
  function goto(url){ location.href = url; }

  /* ===== 初期化 ===== */
  function init(){
    // 言語
    setLang(getLang());

    // 「研究について」
    document.getElementById('btnAbout').onclick = ()=> goto('./about.html');

    // Start -> キャラ選択へ
    document.getElementById('btnStart').onclick = ()=> goto('./char.html');

    // Continue（セーブが無いときは無効）
    const hasSave = !!localStorage.getItem('whoai.char');
    const btnCont = document.getElementById('btnContinue');
    btnCont.disabled = !hasSave;
    btnCont.style.opacity = hasSave ? '1' : '.55';
    btnCont.onclick = ()=> goto('./beach.html');

    // 言語切替
    document.getElementById('btnLang').onclick = toggleLang;
  }
  init();
  </script>
</body>
</html>
